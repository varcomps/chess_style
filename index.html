<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CHESS STRATEGY REDUX</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="turn-banner">ะะะจ ะฅะะ</div>
<div id="game-toast">ะกะพะพะฑัะตะฝะธะต</div>
<div id="ui-tooltip"></div>
<div id="swipe-zone"></div>

<div id="slash-overlay">
    <div class="slash-line"></div>
    <div class="slash-flash"></div>
</div>

<div id="camp-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <h2 style="color: #2ecc71; margin:0 0 10px 0;">ะะะะะะฌ</h2>
        <div class="promo-options" id="camp-options">
            </div>
        <button class="btn-cancel" onclick="closeModal('camp-modal')">ะะะะะซะขะฌ</button>
    </div>
</div>

<div id="academy-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <h2 style="color: #f1c40f; margin:0 0 10px 0;">ะะะะะะะะฏ</h2>
        <div id="academy-content">
            </div>
        <button class="btn-cancel" onclick="closeModal('academy-modal')">ะะะะะซะขะฌ</button>
    </div>
</div>

<div id="workshop-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <h2 style="color: #e67e22; margin:0 0 10px 0;">ะะะกะขะะะกะะะฏ</h2>
        <div class="promo-options">
            <div class="promo-btn" onclick="finishWorkshopBuild('ram')">
                <div class="btn-main-text">๐ ะขะะะะ</div>
                <div class="res-cost-row">
                    <div class="res-single">๐ฒ4</div>
                    <div class="res-single">๐4</div>
                    <div class="res-single">๐ฉ2</div>
                </div>
            </div>
        </div>
        <button class="btn-cancel" onclick="closeModal('workshop-modal')">ะะะะะซะขะฌ</button>
    </div>
</div>

<div id="production-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <h2 id="prod-title" style="color: #3498db; margin:0 0 10px 0;">ะะะะะะะะะกะขะะ</h2>
        <div class="promo-options" id="prod-options">
            </div>
        <button class="btn-cancel" onclick="closeModal('production-modal')">ะะะะะซะขะฌ</button>
    </div>
</div>
<div id="magetower-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <h2 style="color: #9b59b6; margin:0 0 10px 0;">ะะะจะะฏ ะะะะ</h2>
        <div class="promo-options" id="magetower-options">
        </div>
        <button class="btn-cancel" onclick="closeModal('magetower-modal')">ะะะะะซะขะฌ</button>
    </div>
</div>
<div id="promotion-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <h2 style="color: #f1c40f; margin:0;">ะะซะะะะ ะกะฃะะฌะะฃ</h2>
        <div class="promo-options" id="promo-options-container"></div>
    </div>
</div>

<div id="victory-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <div id="victory-title" style="font-size:2.5em; font-weight:900; margin-bottom:20px; text-shadow:0 0 20px currentColor;"></div>
        <button onclick="location.reload()" style="font-size: 1.2em; padding: 15px 40px; background: #fff; color:#000;">ะะฉะ ะะะ</button>
    </div>
</div>

<div id="connection-overlay">
    <canvas id="menu-canvas"></canvas>
    <div id="connection-card">
        <div>
            <div class="conn-title">CHESS</div>
            <div style="color: #888; font-size: 0.8em; letter-spacing: 6px; text-transform: uppercase;">Tactical Warfare</div>
        </div>
        
        <div class="conn-input-wrapper">
            <div class="conn-label">Access Code</div>
            <input type="number" id="room-code" placeholder="000000" maxlength="6">
        </div>
        
        <div class="conn-actions">
            <button class="connect-btn btn-create" onclick="createGame()">ะกะะะะะขะฌ</button>
            <button class="connect-btn btn-join" onclick="joinGame()">ะะะะขะ</button>
        </div>
    </div>
    
    <input type="text" id="debug-console" placeholder=">_ command">
</div>

<div id="game-layout">
    <div class="ui-container">
        <div class="ui">
            <div id="status">ะะะะะะะะ...</div>
            
            <div id="resource-panel">
                <div class="res-group t1-res">
                    <div class="res-item res-wood"><span>๐ฒ</span> <span id="res-wood-val">0</span>/5</div>
                    <div class="res-item res-stone"><span>๐ชจ</span> <span id="res-stone-val">0</span>/5</div>
                    <div class="res-item res-food"><span>๐ฅฉ</span> <span id="res-food-val">0</span>/5</div>
                </div>
                <div class="res-group t2-res">
                    <div class="res-item res-metal"><span>๐ฉ</span> <span id="res-metal-val">0</span>/5</div>
                    <div class="res-item res-cedar"><span>๐</span> <span id="res-cedar-val">0</span>/5</div>
                    <div class="res-item res-paper"><span>๐</span> <span id="res-paper-val">0</span>/5</div>
                </div>
                <div class="res-group t3-res">
                    <div class="res-item res-gem"><span>๐</span> <span id="res-gem-val">0</span>/5</div>
                    <div class="res-item res-poly"><span>๐งฌ</span> <span id="res-poly-val">0</span>/5</div>
                    <div class="res-item res-mana"><span>๐ฎ</span> <span id="res-mana-val">0</span>/5</div>
                </div>
                <div class="res-group t4-res">
                    <div class="res-item res-uranium"><span>โข๏ธ</span> <span id="res-uranium-val">0</span>/5</div>
                    <div class="res-item res-chem"><span>๐งช</span> <span id="res-chem-val">0</span>/5</div>
                </div>
            </div>

            <button id="btn-apogee" onclick="activateApogee()">โ๏ธ ะะะะะะ</button>
            <button id="btn-admin-toggle" onclick="toggleAdminMode()">๐๏ธ ADMIN: OFF</button>
        </div>
    </div>

    <div id="board-wrapper">
        <div id="board"></div>
    </div>
</div>

<div id="build-menu-container">
    <div class="menu-tabs">
        <div class="tab-btn active" id="tab-btn-build" onclick="switchTab('build')">TIER I</div>
        <div class="tab-btn" id="tab-btn-upgrade" onclick="switchTab('upgrade')">TIER II</div>
        <div class="tab-btn" id="tab-btn-elite" onclick="switchTab('elite')">TIER III</div>
        <div class="tab-btn" id="tab-btn-god" onclick="switchTab('god')">TIER IV</div>
    </div>
    
    <div id="build-list">
        <div class="build-group group-build active">
            <div class="build-item demol-item" data-type="demolish" data-label="ะกะะะก" data-desc="ะกะฝะตััะธ ะทะดะฐะฝะธะต." data-cost="1 ะะ" onpointerdown="onSidebarPointerDown(event, 'demolish')"><span class="icon">๐งจ</span></div>
            <div id="btn-build-hq" class="build-item t1-item" data-type="hq" data-label="ะะะะะะะะซะ ะฆะะะขะ" data-desc="ะะฐะทะฐ. +1 ะะ (ะัะตะณะพ 2)." data-cost="4 ะะฐะผะฝั, 4 ะะตัะตะฒะฐ | 1 ะะ" onpointerdown="onSidebarPointerDown(event, 'hq')"><span class="icon">๐ฐ</span></div>
            <div class="build-item t1-item" data-type="lumber" data-label="ะะะกะะะะะะ" data-desc="ะะพะฑััะฐ: 1 ะะตัะตะฒะพ." data-cost="1 ะะ" onpointerdown="onSidebarPointerDown(event, 'lumber')"><span class="icon">๐ช</span></div>
            <div class="build-item t1-item" data-type="mine" data-label="ะะะะะะะะะะะฏ" data-desc="ะะพะฑััะฐ: 1 ะะฐะผะตะฝั." data-cost="1 ะะ" onpointerdown="onSidebarPointerDown(event, 'mine')"><span class="icon">โ๏ธ</span></div>
            <div class="build-item t1-item" data-type="farm" data-label="ะคะะะะ" data-desc="ะะพะฑััะฐ: 1 ะะดะฐ." data-cost="2 ะะตัะตะฒะฐ | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'farm')"><span class="icon">๐</span></div>
            <div class="build-item t1-item" data-type="camp" data-label="ะะะะะะฌ" data-desc="ะะฐะนะผ ะฟะตัะตะบ." data-cost="3 ะะตัะตะฒะฐ, 1 ะะ | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'camp')"><span class="icon">โบ</span></div>
            <div class="build-item t1-item" data-type="barricade" data-label="ะะะะะะะะะ" data-desc="1 HP. ะฃะบัััะธะต." data-cost="2 ะะฐะผะฝั | 1 ะะ" onpointerdown="onSidebarPointerDown(event, 'barricade')"><span class="icon">๐ง</span></div>
        </div>

        <div class="build-group group-upgrade">
            <div class="build-item demol-item" data-type="demolish" data-label="ะกะะะก" data-desc="ะกะฝะตััะธ." data-cost="1 ะะ" onpointerdown="onSidebarPointerDown(event, 'demolish')"><span class="icon">๐งจ</span></div>
            <div class="build-item t2-item" data-type="hq_t2" data-label="ะจะขะะ (T2)" data-desc="ะะะะะะะ ะะฆ. +2 ะะ (ะัะตะณะพ 3). ะัะพะฝั: 1." data-cost="4ะ, 4ะ, 4ะะตะดั, 4ะะตั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'hq_t2')"><span class="icon">๐ฏ</span></div>
            <div class="build-item t2-item" data-type="academy" data-label="ะะะะะะะะฏ" data-desc="ะะฑััะตะฝะธะต ะพัะธัะตัะพะฒ." data-cost="4 ะะตั, 4 ะะฐะผ, 2 ะะตั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'academy')"><span class="icon">๐๏ธ</span></div>
            <div class="build-item t2-item" data-type="lumber_t2" data-label="ะะะฉะ (T2)" data-desc="ะะพะฑััะฐ: 2 ะะตั, 1 ะะตะดั." data-cost="4 ะะตั, 2 ะะฐะผ | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'lumber_t2')"><span class="icon">๐ฒ</span></div>
            <div class="build-item t2-item" data-type="mine_t2" data-label="ะะฃะะะะ (T2)" data-desc="ะะพะฑััะฐ: 2 ะะฐะผ, 1 ะะตั." data-cost="4 ะะฐะผ, 2 ะะตั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'mine_t2')"><span class="icon">๐๏ธ</span></div>
            <div class="build-item t2-item" data-type="papermill" data-label="ะคะะะะะะ" data-desc="1 ะะตะดั -> 1 ะัะผ." data-cost="4ะะตะดั, 2ะ, 4ะ, 2ะ | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'papermill')"><span class="icon">๐</span></div>
            <div class="build-item t2-item" data-type="fortress" data-label="ะกะขะะะ (T2)" data-desc="2 HP. ะะปะพะบ." data-cost="5 ะะฐะผ, 2 ะะตั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'fortress')"><span class="icon">๐งฑ</span></div>
            <div class="build-item t2-item" data-type="warehouse" data-label="ะกะะะะ" data-desc="ะะธะผะธั +5." data-cost="2ะ, 2ะะตะดั, 2ะ, 2ะ | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'warehouse')"><span class="icon">๐ฆ</span></div>
        </div>

        <div class="build-group group-elite">
            <div class="build-item demol-item" data-type="demolish" data-label="ะกะะะก" data-desc="ะกะฝะตััะธ." data-cost="1 ะะ" onpointerdown="onSidebarPointerDown(event, 'demolish')"><span class="icon">๐งจ</span></div>
            <div class="build-item t3-item" data-type="hq_t3" data-label="ะะฃะะะะ (T3)" data-desc="ะะะะะะะ ะจะขะะะ. +3 ะะ. ะัะพะฝั: 2." data-cost="4ะะพะป, 4ะะปะผ... | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'hq_t3')"><span class="icon">๐๏ธ</span></div>
            <div class="build-item t3-item" data-type="academy_t2" data-label="ะฃะะะะะะกะะขะะข" data-desc="ะญะปะธัะฝัะต ะฒะพะนัะบะฐ." data-cost="2 ะะพะป, 2 ะะปะผ, 2 ะะตะดั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'academy_t2')"><span class="icon">๐๏ธ</span></div>
            <div class="build-item t3-item" data-type="workshop" data-label="ะะะกะขะะะกะะะฏ" data-desc="ะกะพะทะดะฐะฝะธะต ะผะฐัะธะฝ (ะขะฐัะฐะฝ)." data-cost="4ะ, 4ะ, 4ะ | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'workshop')"><span class="icon">๐๏ธ</span></div>
            <div class="build-item t3-item" data-type="magetower" data-label="ะะะจะะฏ ะะะะ" data-desc="ะัะฐะบะฐ ะฝะฐ 2 ะบะป. ะขัะตะฑัะตั ะกะฐะผะพัะฒะตั." data-cost="4ะ, 4ะะพะป, 4ะะปะผ, 4ะ | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'magetower')"><span class="icon">๐ฎ</span></div>
            <div class="build-item t3-item" data-type="jeweler" data-label="ะฎะะะะะะะะฏ" data-desc="ะััะฝะพะต: 2 ะะปะผ -> 1 ะกะฐะผะพัะฒะตั." data-cost="4ะ, 4ะ, 4ะะตะดั, 2ะ... | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'jeweler')"><span class="icon">๐</span></div>
            <div class="build-item t3-item" data-type="lumber_t3" data-label="ะะะ-ะะะ (T3)" data-desc="ะะพะฑััะฐ: 3 ะะตั, 2 ะะตะดั, 1 ะะพะป." data-cost="4ะ, 4ะ, 2ะะตะดั, 4ะ | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'lumber_t3')"><span class="icon">๐งช</span></div>
            <div class="build-item t3-item" data-type="mine_t3" data-label="ะะฃะ (T3)" data-desc="ะะพะฑััะฐ: 3 ะะฐะผ, 2 ะะตั, 1 ะะปะผ." data-cost="4ะ, 4ะ, 4ะะตะดั, 2ะ | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'mine_t3')"><span class="icon">๐</span></div>
            <div class="build-item t3-item" data-type="fortress_t2" data-label="ะะะกะขะะะ (T3)" data-desc="4 HP. ะะตะณะตะฝ 1 HP." data-cost="5 ะะฐะผ, 5 ะะตั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'fortress_t2')"><span class="icon">๐ผ</span></div>
        </div>

        <div class="build-group group-god">
            <div class="build-item demol-item" data-type="demolish" data-label="ะกะะะก" data-desc="ะกะฝะตััะธ." data-cost="1 ะะ" onpointerdown="onSidebarPointerDown(event, 'demolish')"><span class="icon">๐งจ</span></div>
            <div class="build-item t4-item" data-type="hq_t4" data-label="ะะะะะขะะ (T4)" data-desc="ะคะะะะ ะะฆ. +4 ะะ. ะัะพะฝั: 3." data-cost="4ะฃัะฐะฝ, 4ะฅะธะผ... | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'hq_t4')"><span class="icon">๐ฐ๏ธ</span></div>
            <div class="build-item t4-item" data-type="lumber_t4" data-label="ะกะะะขะะะะขะะ (T4)" data-desc="ะะพะฑััะฐ: 4ะะตั, 3ะะตะดั, 2ะะพะป, 1ะะตะฐะบัะธะฒ." data-cost="4ะ, 4ะ, 4ะะตะดั, 4ะ, 2ะะปะผ, 4ะะพะป | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'lumber_t4')"><span class="icon">โฃ๏ธ</span></div>
            <div class="build-item t4-item" data-type="mine_t4" data-label="ะฏะะะ (T4)" data-desc="ะะพะฑััะฐ: 4ะะฐะผ, 3ะะตั, 2ะะปะผ, 1ะฃัะฐะฝ." data-cost="4ะ, 4ะ, 4ะะตะดั, 4ะ, 4ะะปะผ, 2ะะพะป | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'mine_t4')"><span class="icon">โ๏ธ</span></div>
            <div class="build-item t4-item" data-type="fortress_t3" data-label="ะฆะะขะะะะะฌ (T4)" data-desc="8 HP. ะะตะณะตะฝ 2 HP." data-cost="5ะ, 5ะ, 5ะะปะผ, 2ะฃัะฐะฝ... | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'fortress_t3')"><span class="icon">๐ก๏ธ</span></div>
        </div>
    </div>
</div>

<script type="module" src="main.js"></script>
</body>
</html>