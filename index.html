<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CHESS STRATEGY REDUX</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="game-toast">ะกะพะพะฑัะตะฝะธะต</div>
<div id="ui-tooltip"></div>
<div id="swipe-zone"></div>

<div id="slash-overlay">
    <div class="slash-line"></div>
    <div class="slash-flash"></div>
</div>

<div id="forge-ui">
    <button onclick="useForge()" style="background: linear-gradient(to right, #e67e22, #d35400);">โ๏ธ ะะะะะขะฌ (2ะผะตั, 2ัะณ)</button>
</div>

<div id="academy-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <h2 style="color: #f1c40f; margin:0 0 15px 0;">ะะะะะะะะ (1 ะะ)</h2>
        <div style="margin-bottom: 15px;">
            <div style="color:#aaa; font-size:0.8em; margin-bottom:5px; text-transform:uppercase;">ะกัะฐะฝะดะฐัั (2 ะัะผะฐะณะธ ๐)</div>
            <div class="promo-options" id="acad-std-options"></div>
        </div>
        <div id="acad-elite-section" class="hidden">
            <div style="color:gold; font-size:0.8em; margin-bottom:5px; text-transform:uppercase;">ะญะปะธัะฐ (5 ะัะผะฐะณะธ ๐)</div>
            <div class="promo-options" id="acad-elite-options"></div>
        </div>
        <button onclick="closeModal('academy-modal')" style="margin-top:20px; background:#c0392b; width:100%;">ะะขะะะะ</button>
    </div>
</div>

<div id="promotion-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <h2 style="color: #f1c40f; margin:0;">ะะซะะะะ ะกะฃะะฌะะฃ</h2>
        <div class="promo-options" id="promo-options-container"></div>
    </div>
</div>

<div id="victory-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <div id="victory-title" style="font-size:2.5em; font-weight:900; margin-bottom:20px; text-shadow:0 0 20px currentColor;"></div>
        <button onclick="location.reload()" style="font-size: 1.2em; padding: 15px 40px; background: #fff; color:#000;">ะะฉะ ะะะ</button>
    </div>
</div>

<div id="connection-overlay">
    <canvas id="menu-canvas"></canvas>
    <div id="connection-card">
        <div>
            <div class="conn-title">CHESS</div>
            <div style="color: #888; font-size: 0.8em; letter-spacing: 6px; text-transform: uppercase;">Tactical Warfare</div>
        </div>
        
        <div class="conn-input-wrapper">
            <div class="conn-label">Access Code</div>
            <input type="number" id="room-code" placeholder="000000" maxlength="6">
        </div>
        
        <div class="conn-actions">
            <button class="connect-btn btn-create" onclick="createGame()">ะกะะะะะขะฌ</button>
            <button class="connect-btn btn-join" onclick="joinGame()">ะะะะขะ</button>
        </div>
    </div>
</div>

<div id="game-layout">
    <div class="ui-container">
        <div class="ui">
            <div id="status">ะะะะะะะะ...</div>
            
            <div id="resource-panel">
                <div class="res-item res-wood"><span>๐ชต</span> <span id="res-wood-val">0</span>/5</div>
                <div class="res-item res-stone"><span>๐งฑ</span> <span id="res-stone-val">0</span>/5</div>
                <div class="res-item res-metal"><span>โ๏ธ</span> <span id="res-metal-val">0</span>/5</div>
                <div class="res-item res-cedar"><span>๐ฒ</span> <span id="res-cedar-val">0</span>/5</div>
                <div class="res-item res-paper"><span>๐</span> <span id="res-paper-val">0</span>/5</div>
                <div class="res-item res-food"><span>๐</span> <span id="res-food-val">0</span>/5</div>
                <div class="res-item res-gem"><span>๐</span> <span id="res-gem-val">0</span>/5</div>
                <div class="res-item res-coal"><span>โซ</span> <span id="res-coal-val">0</span>/5</div>
                <div class="res-item res-poly"><span>๐งช</span> <span id="res-poly-val">0</span>/5</div>
            </div>

            <button id="btn-apogee" onclick="activateApogee()">โ๏ธ ะะะะะะ</button>
            <button id="btn-camp-recruit" onclick="recruitPawn()">โ๏ธ ะะะะะะะ (2ะตะดั)</button>
        </div>
    </div>

    <div id="board-wrapper">
        <div id="board"></div>
    </div>
</div>

<div id="build-menu-container">
    <div class="menu-tabs">
        <div class="tab-btn active" id="tab-btn-build" onclick="switchTab('build')">ะกะขะะะ</div>
        <div class="tab-btn" id="tab-btn-upgrade" onclick="switchTab('upgrade')">ะฃะะฃะงะจ</div>
        <div class="tab-btn" id="tab-btn-elite" onclick="switchTab('elite')">ะญะะะขะ</div>
    </div>
    
    <div id="build-list">
        <div class="build-group group-build active">
            <div class="build-item demol-item" data-type="demolish" data-label="ะกะะะก" data-cost="1 ะะ" onpointerdown="onSidebarPointerDown(event, 'demolish')"><span class="icon">๐งจ</span></div>
            <div id="btn-build-hq" class="build-item t1-item" data-type="hq" data-label="ะจะขะะ" data-cost="4ะบ, 2ะด | 1 ะะ" onpointerdown="onSidebarPointerDown(event, 'hq')"><span class="icon">๐ฐ</span></div>
            <div class="build-item t1-item" data-type="fortress" data-label="ะกะขะะะ" data-cost="4 ะะฐะผะฝั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'fortress')"><span class="icon">๐งฑ</span></div>
            <div class="build-item t1-item" data-type="camp" data-label="ะะะะะะฌ" data-cost="3ะด, 1ะพะด | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'camp')"><span class="icon">โบ</span></div>
            <div class="build-item t1-item" data-type="lumber" data-label="ะะะกะะะะะะ" data-cost="1 ะะ" onpointerdown="onSidebarPointerDown(event, 'lumber')"><span class="icon">๐ช</span></div>
            <div class="build-item t1-item" data-type="mine" data-label="ะะฃะะะะ" data-cost="1 ะะ" onpointerdown="onSidebarPointerDown(event, 'mine')"><span class="icon">โ๏ธ</span></div>
            <div class="build-item t1-item" data-type="farm" data-label="ะคะะะะ" data-cost="2ะด | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'farm')"><span class="icon">๐พ</span></div>
            <div class="build-item t1-item" data-type="papermill" data-label="ะะะงะะขะะฏ" data-cost="2ะบ, 2ะด | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'papermill')"><span class="icon">๐</span></div>
        </div>

        <div class="build-group group-upgrade">
            <div class="build-item demol-item" data-type="demolish" data-label="ะกะะะก" data-cost="1 ะะ" onpointerdown="onSidebarPointerDown(event, 'demolish')"><span class="icon">๐งจ</span></div>
            <div class="build-item t2-item" data-type="academy" data-label="ะะะะะะะ: ะะะะะะะะฏ" data-cost="4ะด, 4ะบ, 2ะผะตั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'academy')"><span class="icon">๐</span></div>
            <div class="build-item t2-item" data-type="lumber_t2" data-label="ะะะะะะะ: ะะะกะะะะะะ T2" data-cost="4ะด, 2ะบ | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'lumber_t2')"><span class="icon">๐ฒ</span></div>
            <div class="build-item t2-item" data-type="mine_t2" data-label="ะะะะะะะ: ะจะะฅะขะ T2" data-cost="4ะบ, 2ะด | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'mine_t2')"><span class="icon">๐๏ธ</span></div>
            <div class="build-item t2-item" data-type="fortress_t2" data-label="ะะะะะะะ: ะะะกะขะะะ" data-cost="4ะบ, 2ะผะตั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'fortress_t2')"><span class="icon">๐ก๏ธ</span></div>
            <div class="build-item t2-item" data-type="furnace" data-label="ะะะงะฌ" data-cost="3ะบ, 1ะผะตั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'furnace')"><span class="icon">๐ฅ</span></div>
        </div>

        <div class="build-group group-elite">
            <div class="build-item demol-item" data-type="demolish" data-label="ะกะะะก" data-cost="1 ะะ" onpointerdown="onSidebarPointerDown(event, 'demolish')"><span class="icon">๐งจ</span></div>
            <div class="build-item t3-item" data-type="academy_t2" data-label="ะะะะะะะ: ะฃะะะะะะกะะขะะข" data-cost="2ะฟะพะป, 2ะฐะปะผ, 2ะบะตะดั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'academy_t2')"><span class="icon">๐๏ธ</span></div>
            <div class="build-item t3-item" data-type="lumber_t3" data-label="ะะะะะ ะะะะะะะะะ" data-cost="4ะด, 2ะบ, 2ะผะตั, 2ะบะตะดั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'lumber_t3')"><span class="icon">๐งฌ</span></div>
            <div class="build-item t3-item" data-type="mine_t3" data-label="ะะะะะะะซะ ะะฃะ" data-cost="2ะด, 4ะบ, 2ะผะตั, 2ะบะตะดั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'mine_t3')"><span class="icon">๐</span></div>
            <div class="build-item t3-item" data-type="fortress_t3" data-label="ะะะะะะะ: ะฆะะขะะะะะฌ" data-cost="5ะบ, 5ะผะตั | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'fortress_t3')"><span class="icon">๐ฏ</span></div>
            <div class="build-item t3-item" data-type="forge" data-label="ะะฃะะะฏ ะะะะะ" data-cost="5ะด, 5ะผะตั, 5ัะณ, 5ะฐะปะผ | 2 ะะ" onpointerdown="onSidebarPointerDown(event, 'forge')"><span class="icon">โ๏ธ</span></div>
        </div>
    </div>
</div>

<script type="module" src="main.js"></script>
</body>
</html>